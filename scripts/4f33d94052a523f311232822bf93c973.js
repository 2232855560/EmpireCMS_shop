(function(b){function m(){this.BREAKPOINT_LARGE=864;this.classHeaderFixed="header-on-scroll";this.classMobileMenuOpen="mobile-menu-open";this.classWidgetPanelOpen="widget-panel-open";this.$window=b(window);this.$document=b(document);this.$html=b("html");this.$body=b("body");this.$pageIncludes=b("#nm-page-includes");this.$pageOverlay=b("#nm-page-overlay");this.$widgetPanelOverlay=b("#nm-widget-panel-overlay");this.$topBar=b("#nm-top-bar");this.$header=b("#nm-header");this.$headerPlaceholder=b("#nm-header-placeholder");this.headerScrollTolerance=0;this.$mobileMenuBtn=b("#nm-mobile-menu-button");this.$mobileMenu=b("#nm-mobile-menu");this.$mobileMenuScroller=this.$mobileMenu.children(".nm-mobile-menu-scroll");this.$mobileMenuLi=this.$mobileMenu.find("ul li.menu-item");this.$widgetPanel=b("#nm-widget-panel");this.widgetPanelAnimSpeed=250;this.panelsAnimSpeed=200;this.$shopWrap=b("#nm-shop");this.isShop=this.$shopWrap.length?!0:!1;this.shopCustomSelect="0"!=nm_wp_vars.shopCustomSelect?!0:!1;this.searchInHeader=this.searchEnabled=!1;"0"!==nm_wp_vars.shopSearch&&(this.searchEnabled=!0,this.$searchPanel=b("#nm-shop-search"),this.$searchNotice=b("#nm-shop-search-notice"),"header"===nm_wp_vars.shopSearch?(this.searchInHeader=!0,this.$searchBtn=b("#nm-menu-search-btn")):this.isShop&&(this.$searchBtn=b("#nm-shop-search-btn")));this.init()}b.nmThemeExtensions||(b.nmThemeExtensions={});m.prototype={init:function(){var a=this;if("0"!=nm_wp_vars.pageLoadTransition){a.isIos=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i);if(!a.isIos)a.$window.on("beforeunload",function(c){b("#nm-page-load-overlay").addClass("nm-loader");a.$html.removeClass("nm-page-loaded")});"onpagehide"in window?window.addEventListener("pageshow",function(){setTimeout(function(){a.$html.addClass("nm-page-loaded")},150)},!1):setTimeout(function(){a.$html.addClass("nm-page-loaded")},150)}a.$body.removeClass("nm-preload");a.headerIsFixed=a.$body.hasClass("header-fixed")?!0:!1;a.$html.hasClass("history")?(a.hasPushState=!0,window.history.replaceState({nmShop:!0},"",window.location.href)):a.hasPushState=!1;a.setScrollbarWidth();a.headerCheckPlaceholderHeight();a.headerIsFixed&&(a.headerSetScrollTolerance(),a.mobileMenuPrep());a.widgetPanelPrep();0<window.navigator.userAgent.indexOf("MSIE ")&&a.$html.addClass("nm-old-ie");a.isTouch=a.$html.hasClass("touch")?!0:!1;a.loadExtension();a.bind();a.initPageIncludes();a.$body.hasClass("nm-added-to-cart")&&(a.$body.removeClass("nm-added-to-cart"),a.$window.load(function(){a.$widgetPanel.length&&(a.widgetPanelShow(!0),setTimeout(function(){a.widgetPanelCartHideLoader()},1E3))}))},loadExtension:function(){b.nmThemeExtensions.shop&&b.nmThemeExtensions.shop.call(this);b.nmThemeExtensions.singleProduct&&b.nmThemeExtensions.singleProduct.call(this);b.nmThemeExtensions.cart&&b.nmThemeExtensions.cart.call(this);b.nmThemeExtensions.checkout&&b.nmThemeExtensions.checkout.call(this)},setScrollbarWidth:function(){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(a);this.scrollbarWidth=a.offsetWidth-a.clientWidth;document.body.removeChild(a)},pageIsScrollable:function(){return document.body.scrollHeight>document.body.clientHeight},urlGetParameter:function(a){var b=decodeURIComponent(window.location.search.substring(1)).split("&"),e,d;for(d=0;d<b.length;d++)if(e=b[d].split("="),e[0]===a)return void 0===e[1]?!0:e[1]},updateUrlParameter:function(a,b,e){var d=a.indexOf("#"),f=-1===d?"":a.substr(d);a=-1===d?a:a.substr(0,d);var d=new RegExp("([?&])"+
b+"=.*?(&|$)","i"),g=-1!==a.indexOf("?")?"&":"?";a=a.match(d)?a.replace(d,"$1"+b+"="+e+"$2"):a+g+b+"="+e;return a+f},setPushState:function(a){this.hasPushState&&window.history.pushState({nmShop:!0},"",a)},headerCheckPlaceholderHeight:function(){if(!this.$body.hasClass(this.classHeaderFixed)){var a=this.$header.innerHeight(),b=parseInt(this.$headerPlaceholder.css("height"));a!==b&&this.$headerPlaceholder.css("height",a+"px")}},headerSetScrollTolerance:function(){this.headerScrollTolerance=this.$topBar.length&&this.$topBar.is(":visible")?this.$topBar.outerHeight(!0):0},headerToggleFixedClass:function(a){a.$document.scrollTop()>a.headerScrollTolerance?a.$body.hasClass(a.classHeaderFixed)||a.$body.addClass(a.classHeaderFixed):a.$body.hasClass(a.classHeaderFixed)&&a.$body.removeClass(a.classHeaderFixed)},bind:function(){var a=this,c=null,e;a.$window.resize(function(){c&&clearTimeout(c);c=setTimeout(function(){e=parseInt(a.$html.css("width"));a.$body.hasClass(a.classMobileMenuOpen)&&e>a.BREAKPOINT_LARGE&&a.$pageOverlay.trigger("click");a.headerCheckPlaceholderHeight();a.headerIsFixed&&(a.headerSetScrollTolerance(),a.mobileMenuPrep())},250)});a.headerIsFixed&&(a.$window.bind("scroll.nmheader",function(){a.headerToggleFixedClass(a)}),a.$window.trigger("scroll"));var d=b("#nm-top-menu").children(".menu-item"),f=b("#nm-main-menu-ul").children(".menu-item");b.merge(d,f).hover(function(){var c=b(this).children(".sub-menu");if(c.length){var d=a.$window.innerWidth(),e=c.offset().left,f=c.width(),d=d-(e+f);0>d?c.css("left",d-33+"px"):c.css("left","")}});a.$mobileMenuBtn.bind("click",function(b){b.preventDefault();a.$body.hasClass(a.classMobileMenuOpen)?a.mobileMenuClose(!0):a.mobileMenuOpen()});a.$mobileMenuLi.bind("click",function(a){a.preventDefault();a.stopPropagation();a=b(this);var c=a.children("ul");c.length&&(a.toggleClass("active"),c.toggleClass("open"))});a.$mobileMenuLi.find("a").bind("click",function(a){a.stopPropagation();var c=b(this),d=c.parent("li"),e=d.children("ul");!e.length&&"#"!=c.attr("href").substr(0,1)||d.hasClass("nm-notoggle")||(a.preventDefault(),d.toggleClass("active"),e.toggleClass("open"))});if(a.searchEnabled){a.searchInHeader&&a.$searchBtn.bind("click",function(c){c.preventDefault();b(this).toggleClass("active");a.$body.toggleClass("header-search-open");a.searchPanelToggle()});b("#nm-shop-search-close").bind("click",function(b){b.preventDefault();a.$searchBtn.trigger("click")});var g;b("#nm-shop-search-input").on("input",function(){(g=a.shopSearchValidateInput(b(this).val()))?a.$searchNotice.addClass("show"):a.$searchNotice.removeClass("show")}).trigger("input")}a.$widgetPanel.length&&a.widgetPanelBind();a.$pageIncludes.hasClass("login-popup")&&b("#nm-menu-account-btn").bind("click",function(a){a.preventDefault();b("#nm-login-wrap").children(".login").css("display","");b.magnificPopup.open({mainClass:"nm-login-popup nm-mfp-fade-in",alignTop:!0,closeMarkup:'<a class="mfp-close nm-font nm-font-close2"></a>',removalDelay:180,items:{src:"#nm-login-popup-wrap",type:"inline"},callbacks:{close:function(){b("#nm-login-wrap").addClass("inline fade-in slide-up");b("#nm-register-wrap").removeClass("inline fade-in slide-up")}}})});b("#nm-blog-categories-toggle-link").bind("click",function(a){a.preventDefault();var c=b(this);b("#nm-blog-categories-list").slideToggle(200,function(){var a=b(this);c.toggleClass("active");c.hasClass("active")||a.css("display","")})});b("#nm-page-overlay, #nm-widget-panel-overlay").bind("click",function(){var c=b(this);a.$body.hasClass(a.classMobileMenuOpen)?a.mobileMenuClose(!1):a.widgetPanelHide();c.addClass("fade-out");setTimeout(function(){c.removeClass("show fade-out")},a.panelsAnimSpeed)})},mobileMenuPrep:function(){var a=this.$window.height()-this.$header.outerHeight(!0);this.$mobileMenuScroller.css({"max-height":a+"px","margin-right":"-"+this.scrollbarWidth+"px"})},mobileMenuOpen:function(a){a=this.$header.outerHeight(!0);this.$mobileMenuScroller.css("margin-top",a+"px");this.$body.addClass(this.classMobileMenuOpen);this.$pageOverlay.addClass("show")},mobileMenuClose:function(a){this.$body.removeClass(this.classMobileMenuOpen);a&&this.$pageOverlay.trigger("click");setTimeout(function(){b("#nm-mobile-menu-main-ul").children(".active").removeClass("active").children("ul").removeClass("open");b("#nm-mobile-menu-secondary-ul").children(".active").removeClass("active").children("ul").removeClass("open")},250)},searchPanelToggle:function(){var a=this,c=b("#nm-shop-search-input");a.$searchPanel.slideToggle(200,function(){a.$searchPanel.toggleClass("fade-in");a.$searchPanel.hasClass("fade-in")?c.focus():c.val("");a.filterPanelSliding=!1});a.shopSearchHideNotice()},shopSearchValidateInput:function(a){return/\S/.test(a)&&a.length>nm_wp_vars.shopSearchMinChar-1?!0:!1},shopSearchHideNotice:function(a){b("#nm-shop-search-notice").removeClass("show")},widgetPanelPrep:function(){var a=this;a.widgetPanelCartHideScrollbar();a.cartPanelAjax=null;a.quantityInputsBindButtons(a.$widgetPanel);a.$widgetPanel.on("blur","input.qty",function(){var c=b(this),e=parseFloat(c.val()),d=parseFloat(c.attr("max"));if(""===e||"NaN"===e)e=0;"NaN"===d&&(d="");e>d&&(c.val(d),e=d);0<e&&a.widgetPanelCartUpdate(c)});a.$document.on("nm_qty_change",function(c,e){a.$body.hasClass(a.classWidgetPanelOpen)&&a.widgetPanelCartUpdate(b(e))})},widgetPanelBind:function(){var a=this;if(a.isTouch){if(a.headerIsFixed)a.$pageOverlay.on("touchmove",function(a){a.preventDefault()});a.$widgetPanelOverlay.on("touchmove",function(a){a.preventDefault()});a.$widgetPanel.on("touchmove",function(a){a.stopPropagation()})}b("#nm-menu-cart-btn, #nm-mobile-menu-cart-btn").bind("click",function(c){c.preventDefault();if(a.$body.hasClass(a.classMobileMenuOpen)){var e=b(this);a.$pageOverlay.trigger("click");setTimeout(function(){e.trigger("click")},a.panelsAnimSpeed)}else a.widgetPanelShow()});b("#nm-widget-panel-close").bind("click.nmWidgetPanelClose",function(a){a.preventDefault();b("#nm-widget-panel-overlay").trigger("click")});a.$widgetPanel.on("click.nmCartPanelClose","#nm-cart-panel-continue",function(a){a.preventDefault();b("#nm-widget-panel-overlay").trigger("click")});a.$widgetPanel.on("click","#nm-cart-panel .cart_list .remove",function(b){b.preventDefault();a.cartPanelAjax||a.widgetPanelCartRemoveProduct(this)})},widgetPanelShow:function(a){var b=this;a&&b.widgetPanelCartShowLoader();b.$body.addClass("widget-panel-opening "+b.classWidgetPanelOpen);b.$widgetPanelOverlay.addClass("show");setTimeout(function(){b.$body.removeClass("widget-panel-opening")},b.widgetPanelAnimSpeed)},widgetPanelHide:function(){var a=this;a.$body.addClass("widget-panel-closing");a.$body.removeClass(a.classWidgetPanelOpen);setTimeout(function(){a.$body.removeClass("widget-panel-closing")},a.widgetPanelAnimSpeed)},widgetPanelCartShowLoader:function(){b("#nm-cart-panel-loader").addClass("show")},widgetPanelCartHideLoader:function(){b("#nm-cart-panel-loader").addClass("fade-out");setTimeout(function(){b("#nm-cart-panel-loader").removeClass("fade-out show")},200)},widgetPanelCartHideScrollbar:function(){this.$widgetPanel.children(".nm-widget-panel-inner").css("marginRight","-"+this.scrollbarWidth+"px")},widgetPanelCartRemoveProduct:function(a){var c=this;a=b(a);var e=a.closest("li"),d=e.parent("ul");a=a.data("cart-item-key");e.closest("li").addClass("loading");c.cartPanelAjax=b.ajax({type:"POST",url:nm_wp_vars.ajaxUrl,data:{action:"nm_cart_panel_remove_product",cart_item_key:a},dataType:"json",error:function(a,b,c){console.log("NM: AJAX error - widgetPanelCartRemoveProduct() - "+c);e.closest("li").removeClass("loading")},complete:function(a){c.cartPanelAjax=null;var g=a.responseJSON;g&&"1"===g.status?(e.css({"-webkit-transition":"0.2s opacity ease",transition:"0.2s opacity ease",opacity:"0"}),setTimeout(function(){e.css("display","block").slideUp(150,function(){e.remove();1==d.children("li").length&&b("#nm-cart-panel").addClass("nm-cart-panel-empty");c.shopReplaceFragments(g.fragments);c.$body.trigger("added_to_cart",[g.fragments,g.cart_hash,!1])})},160)):console.log("NM: Couldn't remove product from cart")}})},widgetPanelCartUpdate:function(a){var c=this;c.cartPanelAjax&&c.cartPanelAjax.abort();a.closest("li").addClass("loading");var e={action:"nm_cart_panel_update"};e[a.attr("name")]=a.val();c.cartPanelAjax=b.ajax({type:"POST",url:nm_wp_vars.ajaxUrl,data:e,dataType:"json",complete:function(a){c.cartPanelAjax=null;(a=a.responseJSON)&&"1"===a.status&&c.shopReplaceFragments(a.fragments);b("#nm-cart-panel .cart_list").children(".loading").removeClass("loading")}})},shopReplaceFragments:function(a){var c;b.each(a,function(a,d){c=b(d);c.length&&b(a).replaceWith(c)})},quantityInputsBindButtons:function(a){var c=this;a.off("click.nmQty").on("click.nmQty",".nm-qty-plus, .nm-qty-minus",function(){var a=b(this),d=a.closest(".quantity").find(".qty"),f=parseFloat(d.val()),g=parseFloat(d.attr("max")),h=parseFloat(d.attr("min")),l=d.attr("step");f&&""!==f&&"NaN"!==f||(f=0);if(""===g||"NaN"===g)g="";if(""===h||"NaN"===h)h=0;if("any"===l||""===l||void 0===l||"NaN"===parseFloat(l))l=1;a.hasClass("nm-qty-plus")?g&&(g==f||f>g)?d.val(g):(d.val(f+parseFloat(l)),c.quantityInputsTriggerEvents(d)):h&&(h==f||f<h)?d.val(h):0<f&&(d.val(f-parseFloat(l)),c.quantityInputsTriggerEvents(d))})},quantityInputsTriggerEvents:function(a){a.trigger("change");this.$document.trigger("nm_qty_change",a)},initPageIncludes:function(){var a=this;if(a.$pageIncludes.hasClass("row-full-height")){var c=function(){var c=b(".nm-row-full-height:first");if(c.length){var d=a.$window.height(),e=c.offset().top,f;d>e&&(f=100-e/(d/100),c.css("min-height",f+"vh"))}};c();var e=null;a.$window.bind("resize.nmRow",function(){e&&clearTimeout(e);e=setTimeout(function(){c()},250)})}!a.isTouch&&a.$pageIncludes.hasClass("video-background")&&b(".nm-row-video").each(function(){var a=b(this),c=a.data("video-url");c&&(c=vcExtractYoutubeId(c))&&insertYoutubeVideoAsBackground(a,c)});a.$window.load(function(){if(a.$pageIncludes.hasClass("blog-grid")){var c=b("#nm-blog-grid-ul");c.packery({itemSelector:".post",gutter:0,isInitLayout:!1});c.packery("once","layoutComplete",function(){c.removeClass("nm-loader hide")});c.packery()}if(a.$pageIncludes.hasClass("banner")){var d=b(".nm-banner"),e=d.find(".nm-banner-alt-image");a.isShop&&a.filtersEnableAjax&&d.find(".nm-banner-shop-link").bind("click",function(c){c.preventDefault();b(this).attr("href")&&a.shopExternalGetPage(b(this).attr("href"))});var f=function(){if(768>=a.$window.width()){for(var c,d,f=0;f<e.length;f++)c=b(e[f]),d=b(e[f]).data("src"),c.hasClass("img")?c.attr("src",d):c.css("background-image","url("+d+")");a.$window.unbind("resize.banners")}},g=null;a.$window.bind("resize.banners",function(){g&&clearTimeout(g);g=setTimeout(function(){f()},250)});f()}if(a.$pageIncludes.hasClass("banner-slider")){var h=function(a,b){a.$bannerContent=b.find(".nm-banner-text-inner");a.$bannerContent.length&&(a.bannerAnimation=a.$bannerContent.data("animate"),a.$bannerContent.addClass(a.bannerAnimation))};b(".nm-banner-slider").each(function(){var c=b(this),d={arrows:!1,prevArrow:'<a class="slick-prev"><i class="nm-font nm-font-angle-thin-left"></i></a>',nextArrow:'<a class="slick-next"><i class="nm-font nm-font-angle-thin-right"></i></a>',dots:!1,edgeFriction:0,infinite:!1,pauseOnHover:!1,speed:350,touchThreshold:30};c.children().wrap("<div></div>");d=b.extend(d,c.data());c.on("init",function(){a.$document.trigger("banner-slider-loaded");h(c,c.find(".slick-track .slick-active"))});c.on("afterChange",function(a,b,d){c.slideIndex!=d&&(c.slideIndex=d,c.$bannerContent&&c.$bannerContent.removeClass(c.bannerAnimation),h(c,c.find(".slick-track .slick-active")))});c.on("setPosition",function(a,c){var d=b(c.$slides[c.currentSlide]).children(".nm-banner");d.hasClass("has-alt-image")?d.children(".nm-banner-alt-image").is(":visible")?c.$slider.addClass("alt-image-visible"):c.$slider.removeClass("alt-image-visible"):c.$slider.removeClass("alt-image-visible")});c.slick(d)})}if(a.$pageIncludes.hasClass("product-slider")){var d=b(".nm-product-slider"),k={adaptiveHeight:!0,arrows:!1,dots:!0,edgeFriction:0,infinite:!1,speed:350,touchThreshold:30,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:518,settings:{slidesToShow:1,slidesToScroll:1}}]};d.each(function(){var a=b(this),c=a.find(".nm-products:first");k=b.extend(k,a.data());c.slick(k)})}a.$pageIncludes.hasClass("post-slider")&&(d=b(".nm-post-slider"),k={adaptiveHeight:!0,arrows:!1,dots:!0,edgeFriction:0,infinite:!1,pauseOnHover:!1,speed:350,touchThreshold:30,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:518,settings:{slidesToShow:1,slidesToScroll:1}}]},d.each(function(){var a=b(this);k=b.extend(k,a.data());a.slick(k)}));a.$pageIncludes.hasClass("blog-slider")&&(d=b(".nm-blog-slider"),k={prevArrow:'<a class="slick-prev"><i class="nm-font nm-font-angle-left"></i></a>',nextArrow:'<a class="slick-next"><i class="nm-font nm-font-angle-right"></i></a>',dots:!0,edgeFriction:0,infinite:!1,pauseOnHover:!1,speed:350,touchThreshold:30,responsive:[{breakpoint:550,settings:{slidesToShow:1}}]},d.each(function(){var a=b(this);k=b.extend(k,a.data());a.slick(k)}));"0"!=nm_wp_vars.wpGalleryPopup&&a.$pageIncludes.hasClass("wp-gallery")&&b(".gallery").each(function(){b(this).magnificPopup({mainClass:"nm-wp-gallery-popup nm-mfp-fade-in",closeMarkup:'<a class="mfp-close nm-font nm-font-close2"></a>',removalDelay:180,delegate:".gallery-icon > a",type:"image",gallery:{enabled:!0,arrowMarkup:'<a title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir% nm-font nm-font-angle-right"></a>'},closeBtnInside:!1})})});if(a.$pageIncludes.hasClass("product_categories")){var d=b(".nm-product-categories");a.isShop&&a.filtersEnableAjax&&d.find(".product-category a").bind("click",function(c){c.preventDefault();a.shopExternalGetPage(b(this).attr("href"))});a.$pageIncludes.hasClass("product_categories_packery")&&a.$window.load(function(){for(var a=0;a<d.length;a++){var c=b(d[a]).children(".woocommerce").children("ul");c.packery({itemSelector:".product-category",gutter:0,isInitLayout:!1});c.packery("once","layoutComplete",function(){c.closest(".nm-product-categories").removeClass("nm-loader");c.addClass("show")});c.packery()}})}if(a.$pageIncludes.hasClass("lightbox")){var f,g,h;b(".nm-lightbox").each(function(){b(this).bind("click",function(a){a.preventDefault();a.stopPropagation();f=b(this);g=f.data("mfp-type");h={mainClass:"nm-wp-gallery-popup nm-mfp-zoom-in",closeMarkup:'<a class="mfp-close nm-font nm-font-close2"></a>',removalDelay:180,type:g,closeBtnInside:!1};h.closeOnContentClick="inline"==g?!1:!0;f.magnificPopup(h).magnificPopup("open")})})}}};b.nmTheme=m.prototype;b(document).ready(function(){new m})})(jQuery);;(function(d){d.fn.selectOrDie=function(g){var A={customID:null,customClass:"",placeholder:null,placeholderOption:!1,prefix:null,cycle:!1,stripEmpty:!1,links:!1,linksExternal:!1,size:0,tabIndex:0,onOpen:d.noop,onClose:d.noop,onChange:d.noop},f={},m=!1,w,j,e={initSoD:function(a){f=d.extend({},A,a);return this.each(function(){if(d(this).parent().hasClass("sod_select"))console.log("Select or Die: It looks like the SoD already exists");else{var a=d(this),c=a.data("custom-id")?a.data("custom-id"):f.customID,k=a.data("custom-class")?a.data("custom-class"):f.customClass,t=a.data("prefix")?a.data("prefix"):f.prefix,r=a.data("placeholder")?a.data("placeholder"):f.placeholder,l=a.data("placeholder-option")?a.data("placeholder-option"):f.placeholderOption,h=a.data("cycle")?a.data("cycle"):f.cycle,B=a.data("links")?a.data("links"):f.links,p=a.data("links-external")?a.data("links-external"):f.linksExternal,g=parseInt(a.data("size"))?a.data("size"):f.size,m=parseInt(a.data("tabindex"))?a.data("tabindex"):f.tabIndex?f.tabIndex:a.attr("tabindex")?a.attr("tabindex"):f.tabIndex,j=a.data("strip-empty")?a.data("strip-empty"):f.stripEmpty,x=a.prop("title")?a.prop("title"):null,n=a.is(":disabled")?" disabled":"",u="",y="",s=0,q,v;t&&(u='<span class="sod_prefix">'+t+"</span> ");q=d("<span/>",{id:c,"class":"sod_select "+k+n,title:x,tabindex:m,html:r&&!t?y+('<span class="sod_label sod_placeholder">'+r+"</span>"):y+('<span class="sod_label">'+u+"</span>"),"data-cycle":h,"data-links":B,"data-links-external":p,"data-placeholder":r,"data-placeholder-option":l,"data-prefix":t,"data-filter":""}).insertAfter(this);e.isTouch()&&q.addClass("touch");c=d("<span/>",{"class":"sod_list_wrapper"}).appendTo(q);v=d("<span/>",{"class":"sod_list"}).appendTo(c);d("option, optgroup",a).each(function(a){var b=d(this);j&&!d.trim(b.text())?b.remove():0===a&&l&&!u?e.populateSoD(b,v,q,!0):e.populateSoD(b,v,q,!1)});g&&(c.show(),d(".sod_option:lt("+g+")",v).each(function(){s+=d(this).outerHeight()}),c.removeAttr("style"),v.css({"max-height":s}));a.appendTo(q);q.on("focusin",e.focusSod).on("click",e.triggerSod).on("click",".sod_option",e.optionClick).on("mousemove",".sod_option",e.optionHover).on("keydown",e.keyboardUse);a.on("change",e.selectChange);d(document).on("click","label[for='"+a.attr("id")+"']",function(a){a.preventDefault();q.focus()})}})},populateSoD:function(a,b,c,k){var e=c.data("placeholder"),f=c.data("placeholder-option"),l=c.data("prefix"),h=c.find(".sod_label"),g=a.parent(),p=a.text(),m=a.val(),j=a.data("custom-id")?a.data("custom-id"):null,w=a.data("custom-class")?a.data("custom-class"):"",x=a.is(":disabled")?" disabled ":"",n=a.is(":selected")?" selected active ":"",u=a.data("link")?" link ":"",y=a.data("link-external")?" linkexternal":"",s=a.prop("label");a.is("option")?(d("<span/>",{"class":"sod_option "+w+x+n+u+y,id:j,title:p,html:p,"data-value":m}).appendTo(b),k&&!l?(c.data("label",p),c.data("placeholder",p),a.prop("disabled",!0),b.find(".sod_option:last").addClass("is-placeholder disabled"),n&&h.addClass("sod_placeholder")):n&&e&&!f&&!l?c.data("label",e):n&&c.data("label",p),(n&&!e||n&&f||n&&l)&&h.append(p),g.is("optgroup")&&(b.find(".sod_option:last").addClass("groupchild"),g.is(":disabled")&&b.find(".sod_option:last").addClass("disabled"))):d("<span/>",{"class":"sod_option optgroup "+x,title:s,html:s,"data-label":s}).appendTo(b)},focusSod:function(){var a=d(this);a.hasClass("disabled")?e.blurSod(a):(e.blurSod(d(".sod_select.focus").not(a)),a.addClass("focus"),d("html").on("click.sodBlur",function(){e.blurSod(a)}))},triggerSod:function(a){a.stopPropagation();a=d(this);var b=a.find(".sod_list"),c=a.data("placeholder"),k=a.find(".active"),t=a.find(".selected");!a.hasClass("disabled")&&!a.hasClass("open")&&!a.hasClass("touch")?(f.onOpen.call(this),a.addClass("open"),c&&!a.data("prefix")&&a.find(".sod_label").addClass("sod_placeholder").html(c),e.listScroll(b,t),e.checkViewport(a,b)):(f.onClose.call(this),clearTimeout(j),a.removeClass("open"),c&&(a.find(".sod_label").get(0).lastChild.nodeValue=k.text()))},keyboardUse:function(a){var b=d(this),c=b.find(".sod_list"),k=b.find(".sod_option"),f=b.find(".sod_label"),g=b.data("cycle"),l=k.filter(".active"),h,j;if(36<a.which&&41>a.which){if(37===a.which||38===a.which)h=l.prevAll(":not('.disabled, .optgroup')").first(),j=k.not(".disabled, .optgroup").last();else if(39===a.which||40===a.which)h=l.nextAll(":not('.disabled, .optgroup')").first(),j=k.not(".disabled, .optgroup").first();!h.hasClass("sod_option")&&g&&(h=j);if(h.hasClass("sod_option")||g)l.removeClass("active"),h.addClass("active"),f.get(0).lastChild.nodeValue=h.text(),e.listScroll(c,h),b.hasClass("open")||(m=!0);return!1}13===a.which||32===a.which&&b.hasClass("open")&&(" "===b.data("filter")[0]||""===b.data("filter"))?(a.preventDefault(),l.click()):32===a.which&&!b.hasClass("open")&&(" "===b.data("filter")[0]||""===b.data("filter"))?(a.preventDefault(),m=!1,b.click()):27===a.which&&e.blurSod(b);0!==a.which&&(clearTimeout(w),b.data("filter",b.data("filter")+String.fromCharCode(a.which)),a=k.filter(function(){return 0===d(this).text().toLowerCase().indexOf(b.data("filter").toLowerCase())}).not(".disabled, .optgroup").first(),a.length&&(l.removeClass("active"),a.addClass("active"),e.listScroll(c,a),f.get(0).lastChild.nodeValue=a.text(),b.hasClass("open")||(m=!0)),w=setTimeout(function(){b.data("filter","")},500))},optionHover:function(){var a=d(this);!a.hasClass("disabled")&&!a.hasClass("optgroup")&&a.siblings().removeClass("active").end().addClass("active")},optionClick:function(a){a.stopPropagation();a=d(this);var b=a.closest(".sod_select"),c=a.hasClass("disabled"),k=a.hasClass("optgroup"),e=b.find(".sod_option:not('.optgroup')").index(this);b.hasClass("touch")||(!c&&!k&&(b.find(".selected, .sod_placeholder").removeClass("selected sod_placeholder"),a.addClass("selected"),b.find("select option")[e].selected=!0,b.find("select").change()),clearTimeout(j),f.onClose.call(this),b.removeClass("open"))},selectChange:function(){var a=d(this),b=a.find(":selected"),c=b.text(),a=a.closest(".sod_select");a.find(".sod_label").get(0).lastChild.nodeValue=c;a.data("label",c);f.onChange.call(this);(a.data("links")||b.data("link"))&&!b.data("link-external")?window.location.href=b.val():(a.data("links-external")||b.data("link-external"))&&window.open(b.val(),"_blank")},blurSod:function(a){if(d("body").find(a).length){var b=a.data("label"),c=a.data("placeholder"),e=a.find(".active"),g=a.find(".selected"),r=!1;clearTimeout(j);m&&!e.hasClass("selected")?(e.click(),r=!0):e.hasClass("selected")||(e.removeClass("active"),g.addClass("active"));!r&&c?a.find(".sod_label").get(0).lastChild.nodeValue=g.text():r||(a.find(".sod_label").get(0).lastChild.nodeValue=b);m=!1;f.onClose.call(a);a.removeClass("open focus");a.blur();d("html").off(".sodBlur")}},checkViewport:function(a,b){var c=a[0].getBoundingClientRect(),f=b.outerHeight();c.bottom+f+10>d(window).height()&&10<c.top-f?a.addClass("above"):a.removeClass("above");j=setTimeout(function(){e.checkViewport(a,b)},200)},listScroll:function(a,b){var c=a[0].getBoundingClientRect(),d=b[0].getBoundingClientRect();c.top>d.top?a.scrollTop(a.scrollTop()-c.top+d.top):c.bottom<d.bottom&&a.scrollTop(a.scrollTop()-c.bottom+d.bottom)},isTouch:function(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints}},z={destroy:function(){return this.each(function(){var a=d(this),b=a.parent();b.hasClass("sod_select")?(a.off("change"),b.find("span").remove(),a.unwrap()):console.log("Select or Die: There's no SoD to destroy")})},update:function(){return this.each(function(){var a=d(this),b=a.parent(),c=b.find(".sod_list:first");b.hasClass("sod_select")?(c.empty(),b.find(".sod_label").get(0).lastChild.nodeValue="",a.is(":disabled")&&b.addClass("disabled"),d("option, optgroup",a).each(function(){e.populateSoD(d(this),c,b)})):console.log("Select or Die: There's no SoD to update")})},disable:function(a){return this.each(function(){var b=d(this),c=b.parent();c.hasClass("sod_select")?"undefined"!==typeof a?(c.find(".sod_list:first .sod_option[data-value='"+a+"']").addClass("disabled"),c.find(".sod_list:first .sod_option[data-label='"+a+"']").nextUntil(":not(.groupchild)").addClass("disabled"),d("option[value='"+a+"'], optgroup[label='"+a+"']",this).prop("disabled",!0)):c.hasClass("sod_select")&&(c.addClass("disabled"),b.prop("disabled",!0)):console.log("Select or Die: There's no SoD to disable")})},enable:function(a){return this.each(function(){var b=d(this),c=b.parent();c.hasClass("sod_select")?"undefined"!==typeof a?(c.find(".sod_list:first .sod_option[data-value='"+a+"']").removeClass("disabled"),c.find(".sod_list:first .sod_option[data-label='"+a+"']").nextUntil(":not(.groupchild)").removeClass("disabled"),d("option[value='"+a+"'], optgroup[label='"+a+"']",this).prop("disabled",!1)):c.hasClass("sod_select")&&(c.removeClass("disabled"),b.prop("disabled",!1)):console.log("Select or Die: There's no SoD to enable")})}};if(z[g])return z[g].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof g||!g)return e.initSoD.apply(this,arguments);d.error('Select or Die: Oh no! No such method "'+g+'" for the SoD instance')}})(jQuery);;(function(b){b.extend(b.nmTheme,{shop_init:function(){var a=this;a.shopSelectConfig={onOpen:function(){b(this).closest("tr").addClass("open");b(this).children("select").trigger("focusin")},onChange:function(){b(this).closest("tr").removeClass("open")},onClose:function(){b(this).closest("tr").removeClass("open")}};if(a.isShop){a.shopAjax=!1;a.scrollOffsetDesktop=parseInt(nm_wp_vars.shopScrollOffset);a.scrollOffsetTablet=parseInt(nm_wp_vars.shopScrollOffsetTablet);a.scrollOffsetMobile=parseInt(nm_wp_vars.shopScrollOffsetMobile);a.infloadScroll=!1;a.categoryClicked=!1;a.shopLoaderSpeed=300;a.shopScrollSpeed=410;a.$shopBrowseWrap=b("#nm-shop-browse-wrap");a.imageLazyLoading="0"!=nm_wp_vars.shopImageLazyLoad?!0:!1;a.filtersEnableAjax="0"!=nm_wp_vars.shopFiltersAjax?a.isTouch&&"1"!=nm_wp_vars.shopFiltersAjax?!1:!0:!1;a.shopSetScrollOffset();a.shopSetMinHeight();var c=null;a.$window.resize(function(){c&&clearTimeout(c);c=setTimeout(function(){a.shopSetMinHeight();a.shopSetScrollOffset()},250)});if(a.$pageIncludes.hasClass("banner-slider"))a.$document.on("banner-slider-loaded",function(){a.shopUrlHashScroll();a.shopLoadImages()});else a.shopUrlHashScroll(),a.shopLoadImages();if(a.filtersEnableAjax)a.$window.on("popstate.nmshop",function(b){b.originalEvent.state&&b.originalEvent.state.nmShop&&a.shopGetPage(window.location.href,!0)});b("#nm-main-menu-ul").children(".shop-link").find("> a").bind("click",function(b){b.preventDefault();a.shopScrollToTop()});a.filtersEnableAjax&&(a.$shopWrap.on("click","#nm-shop-filters-reset",function(b){b.preventDefault();b=location.href.replace(location.search,"");a.shopGetPage(b)}),a.$shopWrap.on("click","#nm-shop-search-taxonomy-reset",function(c){c.preventDefault();c=b(this);c=c.closest(".nm-shop-results-bar").hasClass("is-search")?a.urlGetParameter("s")?c.data("shop-url"):location.href.replace(location.search,""):c.data("shop-url");a.shopGetPage(c)}))}if(a.shopCustomSelect)a.$document.on("woocommerce_update_variation_values","#nm-variations-form",function(){b("#nm-variations-form").find("select").each(function(){b(this).selectOrDie("update")})});if(a.$pageIncludes.hasClass("products")&&!a.isTouch)if(a.isShop)b("#nm-shop-products").on("hover.nmImageSwap",".nm-products li.hover-image-load",function(){a.productLoadHoverImage(b(this))});else b(".nm-products").on("hover.nmImageSwap",".hover-image-load",function(){a.productLoadHoverImage(b(this))});"undefined"!==typeof wc_add_to_cart_params&&"yes"!==wc_add_to_cart_params.cart_redirect_after_add?(a.$body.on("adding_to_cart",function(b,c,g,f){a.$widgetPanel.length?a.quickviewIsOpen(f)||a.widgetPanelShow(!0):a.$widgetPanelOverlay.addClass("nm-loader show")}),a.$body.on("added_to_cart",function(b,c,g,f){a.$widgetPanel.length?a.quickviewIsOpen(f)||a.widgetPanelCartHideLoader():a.$widgetPanelOverlay.trigger("click").removeClass("show nm-loader")})):a.$document.off("click",".add_to_cart_button");a.shopLoadExtension()},shopLoadExtension:function(){"0"!==nm_wp_vars.shopAjaxAddToCart&&b.nmThemeExtensions.add_to_cart&&b.nmThemeExtensions.add_to_cart.call(this);this.isShop&&(b.nmThemeExtensions.infload&&b.nmThemeExtensions.infload.call(this),b.nmThemeExtensions.filters&&b.nmThemeExtensions.filters.call(this),this.searchEnabled&&b.nmThemeExtensions.search&&b.nmThemeExtensions.search.call(this));this.$pageIncludes.hasClass("quickview")&&b.nmThemeExtensions.quickview&&b.nmThemeExtensions.quickview.call(this)},shopUrlHashScroll:function(){"#shop"===window.location.hash&&this.shopScrollToTop(!0)},shopCheckVariationDetails:function(a){var b=a.children(),d=!0;if(b.length)for(var e=0;e<b.length;e++)if(b.eq(e).children().length){d=!1;break}d?a.hide():a.show()},shopLoadImages:function(){if(this.imageLazyLoading){this.$window.off("scroll.unveil resize.unveil lookup.unveil");var a=this.$shopBrowseWrap.find(".nm-products li:not(.image-loaded) .nm-shop-loop-thumbnail .unveil-image");a.length&&a.unveil(1,function(){b(this).parents("li").first().addClass("image-loaded")})}},shopSetScrollOffset:function(){var a=this.$body.width();this.scrollOffset=863<a?this.$header.hasClass("static-on-scroll")?this.$header.outerHeight():this.scrollOffsetDesktop:383<a?this.scrollOffsetTablet:this.scrollOffsetMobile},shopSetMinHeight:function(){var a=b("#nm-footer").outerHeight(!0);this.$shopWrap.css("min-height",this.$window.height()-(a+this.scrollOffset)+"px")},shopScrollToTop:function(a,c){var d=0,e=399<this.$window.width()?Math.round(this.$shopWrap.offset().top-this.scrollOffset):Math.round(b("#nm-shop-products").offset().top-24-this.scrollOffset);a&&this.shopSetMinHeight();c?b("html, body").scrollTop(e):(d=this.shopScrollSpeed,b("html, body").animate({scrollTop:e},this.shopScrollSpeed));return d},shopRemoveNotices:function(){b("#nm-shop-notices-wrap").empty()},shopShowLoader:function(a){var c=b("#nm-shop-products-overlay");a&&c.addClass("no-anim");c.addClass("show")},shopHideLoader:function(a){var c=b("#nm-shop-products-overlay");a||c.removeClass("no-anim");c.removeClass("nm-loader").addClass("fade-out");setTimeout(function(){c.removeClass("show fade-out").addClass("nm-loader")},this.shopLoaderSpeed);this.infloadScroll&&(this.infscrollLock=!1,this.$window.trigger("scroll"))},quickviewIsOpen:function(a){return a&&1==a?!0:b("#nm-quickview").is(":visible")},productLoadHoverImage:function(a){if(!a.hasClass("hover-image-loading")){var c=a.find(".nm-shop-loop-thumbnail .hover-image"),d=c.attr("data-src");d?(a.addClass("hover-image-loading"),c.load(function(){var a=b(this),c=a.closest("li");a.unbind("load");c.addClass("hover-image-loaded").removeClass("hover-image-load hover-image-loading")}),c.attr("src",d)):(console.log("NM: No image src found - productLoadHoverImage()"),a.removeClass("hover-image-load"))}}});b.nmThemeExtensions.shop=b.nmTheme.shop_init})(jQuery);